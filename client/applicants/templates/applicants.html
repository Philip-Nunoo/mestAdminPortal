<template name='applicants'>

	<div class="row">
		<div class="col s2 sidenavbar">
			{{> sidenavbar}}
		</div>

		<div class="col s10"> 
			<br/>
			<!-- Modal Trigger -->
			<a class="waves-effect waves-light btn modal-trigger" href="#modalapplicant">New Applicant</a>
			<input type="file" name="files[]" id="files"  multiple>
			<!-- Modal Structure -->
			<div id="modalapplicant" class="modal">
				<div class="modal-content">
					<h4>Add New Applicant</h4>
					{{#autoForm collection="Applicants" id="insertApplicantForm" type="insert"}}
					<div class = 'col s6'>
						{{> afQuickField name='firstName' autofocus=""}}
					</div>
					<div class = 'col s6'>
						{{> afQuickField name='lastName' }}
					</div> 
					<div class = 'col s6'>
						{{> afQuickField name='dateOfBirth' }}
					</div>
					<div class = 'col s6'>
						{{> afQuickField name='programmeOfStudy' }}
					</div> 
					<div class = 'col s6'>
						{{> afQuickField name='college' }}
					</div> 
					<div class = 'col s6'>
						{{> afQuickField name='email' }}
					</div> 
					<div class = 'col s12'>
						{{> afQuickField name='summary' }}
					</div>
					<div class="modal-footer">
						<button type="submit" class="btn btn-primary">Submit</button>
						<a type="submit"  class="waves-effect waves-green btn-flat modal-action modal-close">Cancel</a>
					</div>

					{{/autoForm}}
				</div>
			</div>

			<div>
				<table border="1">
					<thead>
						<tr>
							<th>Name</th>
							<th>College</th>
							<th>Date Created</th>
							<th>stage</th>
							<th>actions</th>
						</tr>
					</thead>
					<tbody>
						{{#each applicants}}
						<tr>
							<td>{{firstName}}</td>
							<td>{{college}}</td>
							<td>{{createdAt}}</td>
							<td>
								{{#each stagesPassed}}
								{{stageName stageId}}
								{{else}}
								no stage set
								{{/each}}
								<tr>
									<td>
										<a href="" class="applicantPassed">passed</a> 
									</td>
									<td>
										<a href="" class="applicantFailed">failed</a>
									</td>
								</tr>
							</td>
							<td>
								<a href="">view</a> 
								<a href="">update</a>
								<a href="{{pathFor 'applicantComments' _id = _id}} ">comments</a>
								<a href="" class="remove">remove</a>

							</td>
						</tr>	
						{{/each}}
					</tbody>
				</table>
			</div>
		</div>

	</div>


	<script type="text/javascript">
		$(document).ready(function(){
			$('.modal-trigger').leanModal();

			$('.datepicker').pickadate({
    selectMonths: true, // Creates a dropdown to control month
    selectYears: 15 // Creates a dropdown of 15 years to control year
  });
		});
	</script>
</template>